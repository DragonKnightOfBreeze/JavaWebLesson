<!DOCTYPE html>
<html>
<head>
<title>ajaxCase01.html</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<script src="https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script>
<script>
    function sendXhr() {
        var xhr = new XMLHttpRequest();
        xhr.open("GET", "/report/unit2/ajaxDemo01");
        xhr.send(null);
        //当状态正确时执行
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                document.getElementById("msg01").innerHTML = xhr.responseText;
            }
        };
    }

    function checkName() {
        document.getElementById("msg02").innerHTML = "正在检测...";
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "/report/unit2/ajaxDemo02");
        //给Http协议设置请求头参数
        xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
        xhr.send("name=" + name);
        //当状态正确时执行
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                document.getElementById("msg02").innerHTML = xhr.responseText;
            }
        };
        var name = document.getElementById("name").value;
    }
</script>
</head>

<body>
<a href="#" onclick="sendXhr()">查看上证指数</a>
<span id="msg01"></span>
<hr>
<table>
	<tr>
		<td>新闻标题</td>
		<td>时间</td>
	</tr>
	<tr>
		<td>时政新闻眼 | 访问葡萄牙，习近平引用16字古语为两国关系点赞</td>
		<td>2018年12月05日</td>
	</tr>
	<tr>
		<td>冻哭！今冬首个棉裤预警发布 全国八成地区需棉裤护体</td>
		<td>2018-12-05</td>
	</tr>
	<tr>
		<td>浙江公布高考英语加权赋分调查结果：责令省教育厅长辞职</td>
		<td>2018-12-05</td>
	</tr>
</table>
<hr>
<p>
	姓名:<input type="text" id="name" onmouseup="checkName()"/>
	<span id="msg02"></span>
</p>
</body>
</html>
